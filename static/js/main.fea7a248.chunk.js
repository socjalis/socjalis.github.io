(this["webpackJsonpchess-engine"]=this["webpackJsonpchess-engine"]||[]).push([[0],{20:function(e,t,r){},21:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var n=r(2),s=r.n(n),i=r(11),o=r.n(i),c=(r(20),r(21),r(5)),a=r(12),u=r.n(a),h=r(1),l={p:100,n:270,b:300,r:500,q:900,k:0},v=r(15),f=r(13),m=r(14),b=function(){function e(t,r,n,s){Object(f.a)(this,e),this.min=void 0,this._children=void 0,this.depth=void 0,this.value=void 0,this._score=void 0,this.min=t,this._children=[],this.depth=r,this._score=s,this.value=n}return Object(m.a)(e,[{key:"resolve",value:function(){var e=[],t=this._children.length,r=this.min?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,n=1;if(this._children.length>0){for(var s=0;s<t;s++){var i=this._children[s].resolve();n+=i.numberOfPositions,this.min?i.score<r&&(r=i.score,e=i.resultArray):i.score>r&&(r=i.score,e=i.resultArray)}return{score:r,resultArray:[this.value].concat(Object(v.a)(e)),numberOfPositions:n}}if(null!=this._score)return{score:this._score,resultArray:[this.value],numberOfPositions:1};throw console.log(this),Error("zesral sie min max")}},{key:"children",set:function(e){this._children=e}},{key:"score",set:function(e){this._score=e}}]),e}(),d=1e6,j=function(e){for(var t=0,r=0;r<8;r++)for(var n=0;n<8;n++){var s=e[r][n];s&&(s.color===h.WHITE?t+=l[s.type]:t-=l[s.type])}return t},O=function(e){var t=function(e){var t=e.turn()===h.WHITE?d:-1e6;return e.inCheckmate()?t:e.inStalemate()?0:null}(e);return null!=t?t:j(e.board())},p=function e(t,r,n,s,i){var o=r.moves();if(s<n&&!r.gameOver()){for(var c=[],a=o.length,u=0;u<a;u++){var l=o[u],v=new b(!i,s+1,l);c.push(v);var f=new h.Chess(r.fen());f.move(l),e(v,f,n,s+1,!i)}t.children=c}else t.score=O(r)},g=function(e){return function(e,t){var r=e.turn()===h.BLACK,n=new b(r,0,""),s=(new Date).getTime();p(n,e,t,0,r);var i=(new Date).getTime();console.log(i-s);var o=n.resolve(),c=o.resultArray;return console.log(o.numberOfPositions),c[1]}(new h.Chess(e),3)},S=r(0),_=function(e){var t=Object(n.useState)("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),r=Object(c.a)(t,2),s=r[0],i=r[1],o=Object(n.useState)(!1),a=Object(c.a)(o,2),l=a[0],v=a[1],f=Object(n.useState)(null),m=Object(c.a)(f,2),b=(m[0],m[1]),d=Object(n.useState)(!1),j=Object(c.a)(d,2),O=j[0];j[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"chessboard",children:Object(S.jsx)(u.a,{position:s,onDrop:function(e){var t=new h.Chess(s);!!t.move({from:e.sourceSquare,to:e.targetSquare})&&(i(t.fen()),b({from:e.sourceSquare,to:e.targetSquare}),t.gameOver()||(v(!0),setTimeout((function(){var r=g(t.fen());t.move(r),i(t.fen()),b({from:e.sourceSquare,to:e.targetSquare}),v(!1)}),10)))}})}),Object(S.jsxs)("div",{className:"chessboard",style:{fontSize:"2rem"},children:[l?"Daj mi pomyslec do hxuja...":"Super silnik kurwa",O&&"NO I CHUJ"]})]})};var P=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(_,{})})},y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,25)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;r(e),n(e),s(e),i(e),o(e)}))};o.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(P,{})}),document.getElementById("root")),y()}},[[24,1,2]]]);
//# sourceMappingURL=main.fea7a248.chunk.js.map